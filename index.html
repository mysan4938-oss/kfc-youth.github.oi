<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KFC လူငယ်ဝတ်ပြုခြင်းအစီစဉ် - KFC Youth Worship Program</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Configure Tailwind to use a custom font stack that supports Myanmar script
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Pyidaungsu', 'Myanmar Text', 'Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#1e3a8a', // Dark Indigo
                        'secondary': '#2c5aa0', // Lighter Indigo
                    }
                }
            }
        }
    </script>
    <!-- Custom style for better font support and scrollbar hiding -->
    <style>
        body {
            font-family: 'Pyidaungsu', 'Myanmar Text', 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        /* Hide scrollbar for mobile tabs */
        .mobile-tabs::-webkit-scrollbar {
            display: none;
        }
        .mobile-tabs {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen p-4 md:p-8 font-sans">

    <!-- LOGIN SCREEN -->
    <div id="login-screen" class="flex items-center justify-center min-h-screen p-4">
        <div class="w-full max-w-sm bg-white p-8 rounded-xl shadow-2xl text-center border-t-4 border-primary">
            <h1 class="text-3xl font-extrabold text-primary mb-4">
                အစီစဉ်
            </h1>
            <p class="text-gray-600 mb-6">
                အစီစဉ်ကို ကြည့်ရှုရန် Passcode ထည့်သွင်းပါ။
            </p>
            
            <form id="login-form" onsubmit="attemptLogin(event)">
                <input
                    type="password"
                    id="passcode-input"
                    placeholder="Passcode"
                    required
                    class="w-full px-4 py-3 mb-4 text-lg border-2 border-gray-300 rounded-lg focus:outline-none focus:border-secondary transition duration-300 tracking-wider"
                />
                <button
                    type="submit"
                    class="w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-secondary transition duration-300 shadow-lg transform hover:scale-[1.01] active:scale-95"
                >
                    ဝင်မည်
                </button>
            </form>
            
            <p id="error-message" class="text-red-500 mt-4 hidden font-medium">
                <!-- Error message will appear here -->
            </p>
        </div>
    </div>
    <!-- END LOGIN SCREEN -->

    <!-- MAIN SCHEDULE CONTENT (Initially hidden) -->
    <div id="schedule-content" class="container max-w-4xl mx-auto bg-white rounded-xl shadow-2xl overflow-hidden hidden">
        
        <!-- Header Section -->
        <header class="bg-primary text-white p-6 md:p-8 text-center rounded-t-xl" style="background: linear-gradient(135deg, #1e3a8a 0%, #2c5aa0 100%);">
            <h1 class="text-3xl font-extrabold mb-1 tracking-wide">KFC လူငယ်ဝတ်ပြုခြင်းအစီစဉ်</h1>
            <div class="text-lg opacity-90">KFC Youth Worship Program Schedule - 8 Weeks</div>
        </header>
        
        <div class="p-4 md:p-6 lg:p-8">
            
            <!-- Participants Section -->
            <!-- This section is left static as it is a fixed list of participants -->
            <section class="mb-8 p-4 bg-blue-50/50 rounded-xl shadow-inner">
                <h2 class="text-xl md:text-2xl font-bold text-primary border-b-2 border-blue-200 pb-3 mb-4">
                    ဆောင်ရွက်မည့်သူများ
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    
                    <div class="p-4 bg-white rounded-lg shadow-md border border-blue-100">
                        <h3 class="text-lg font-semibold text-secondary text-center border-b border-dashed border-gray-300 pb-2 mb-3">
                            မိန်းကလေး
                        </h3>
                        <ul class="grid grid-cols-2 gap-x-4 gap-y-2 list-none p-0">
                            <li class="border-b border-gray-200 py-1 text-sm">May Lat Lunn</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Htoi Tsin Pan</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Zami Shar</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Mi Mi Shar</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Zami Shine</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Pan Ra</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Hpa Rat Hkawn</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Caroline</li>
                        </ul>
                    </div>
                    
                    <div class="p-4 bg-white rounded-lg shadow-md border border-blue-100">
                        <h3 class="text-lg font-semibold text-secondary text-center border-b border-dashed border-gray-300 pb-2 mb-3">
                            ယောင်္ကျားလေး
                        </h3>
                        <ul class="grid grid-cols-2 gap-x-4 gap-y-2 list-none p-0">
                            <li class="border-b border-gray-200 py-1 text-sm">Tu Mai</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Seng Awng</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Ah Dau</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Dee Bine</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Benjamin</li>
                            <li class="border-b border-gray-200 py-1 text-sm">Shin Ram</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Roles Section -->
            <section class="mb-8 p-4 bg-blue-50/50 rounded-xl shadow-inner">
                <h2 class="text-xl md:text-2xl font-bold text-primary border-b-2 border-blue-200 pb-3 mb-4">
                    တာဝန်များ
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <!-- Role Item 1 -->
                    <div class="p-3 bg-white rounded-lg shadow-sm border-l-4 border-secondary">
                        <strong class="text-primary block mb-1">သဘာပတိ (Chairperson)</strong>
                        <div class="text-sm text-gray-600">အစီအစဉ်ကို ဦးဆောင်ခြင်း</div>
                    </div>
                    <!-- Role Item 2 -->
                    <div class="p-3 bg-white rounded-lg shadow-sm border-l-4 border-secondary">
                        <strong class="text-primary block mb-1">အပြန်အလှန်ဖတ်ရှုခြင်း (Scripture Reading)</strong>
                        <div class="text-sm text-gray-600">သမ္မာကျမ်းစာကို အပြန်အလှန်ဖတ်ရှုခြင်း</div>
                    </div>
                    <!-- Role Item 3 -->
                    <div class="p-3 bg-white rounded-lg shadow-sm border-l-4 border-secondary">
                        <strong class="text-primary block mb-1">တစ်ကိုယ်တော်ချီးမွမ်းခြင်း (Individual Praise)</strong>
                        <div class="text-sm text-gray-600">တစ်ဦးတည်း သို့မဟုတ် အဖွဲ့လိုက် ချီးမွမ်းခြင်း</div>
                    </div>
                    <!-- Role Item 4 -->
                    <div class="p-3 bg-white rounded-lg shadow-sm border-l-4 border-secondary">
                        <strong class="text-primary block mb-1">အလှူငွေကောက်ခံခြင်းနှင့် ဆုတောင်းခြင်း (Prayer for Offering Collection)</strong>
                        <div class="text-sm text-gray-600">အလှူငွေများကောက်ခံပြီး ဆုတောင်းပေးခြင်း</div>
                    </div>
                    <!-- Role Item 5 -->
                    <div class="p-3 bg-white rounded-lg shadow-sm border-l-4 border-secondary">
                        <strong class="text-primary block mb-1">ပြည့်စုံခြင်းအတွက် ဆုတောင်းခြင်း (Prayer for Fullness)</strong>
                        <div class="text-sm text-gray-600">အစီအစဉ်အဆုံးတွင် ဆုတောင်းပေးခြင်း</div>
                    </div>
                </div>
            </section>
            
            <!-- Schedule Section -->
            <section class="mb-8 p-4 bg-blue-50/50 rounded-xl shadow-inner">
                <h2 class="text-xl md:text-2xl font-bold text-primary border-b-2 border-blue-200 pb-3 mb-4">
                    အစီအစဉ် (၈ ပတ်)
                </h2>
                
                <!-- Mobile Tabs -->
                <div class="flex overflow-x-auto bg-gray-200 p-1.5 rounded-lg mb-4 mobile-tabs">
                    <button class="tab-btn p-3 px-4 min-w-[70px] text-center rounded-md font-semibold text-primary transition duration-300 mr-2 bg-white shadow-md" data-target="month1">
                        လ ၁
                    </button>
                    <button class="tab-btn p-3 px-4 min-w-[70px] text-center rounded-md font-semibold text-primary transition duration-300 mr-2 bg-white shadow-md" data-target="month2">
                        လ ၂
                    </button>
                    <button class="tab-btn p-3 px-4 min-w-[70px] text-center rounded-md font-semibold text-primary transition duration-300 bg-white shadow-md" data-target="summary">
                        အကျဉ်းချုပ်
                    </button>
                </div>
                
                <!-- Month 1 Schedule (Generated by JS) -->
                <div id="month1" class="schedule-view active-view">
                    <div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">ပထမ လ</div>
                    <!-- Content will be injected here -->
                </div>
                
                <!-- Month 2 Schedule (Generated by JS) -->
                <div id="month2" class="schedule-view hidden">
                    <div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">ဒုတိယ လ</div>
                    <!-- Content will be injected here -->
                </div>
                
                <!-- Summary View (Generated by JS) -->
                <div id="summary" class="schedule-view hidden">
                    <div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">အကျဉ်းချုပ်</div>
                    
                    <div class="p-4 bg-white rounded-xl shadow-lg overflow-x-auto">
                        <table class="w-full text-left border-collapse min-w-[600px] summary-table" id="summary-table">
                            <thead>
                                <tr>
                                    <th class="bg-primary text-white p-3 rounded-tl-lg">အပတ်</th>
                                    <th class="bg-primary text-white p-3">သဘာပတိ</th>
                                    <th class="bg-primary text-white p-3">ဖတ်ရှုခြင်း</th>
                                    <th class="bg-primary text-white p-3">ချီးမွမ်းခြင်း</th>
                                    <th class="bg-primary text-white p-3 rounded-tr-lg">ဆုတောင်းခြင်း</th>
                                </tr>
                            </thead>
                            <tbody id="summary-tbody">
                                <!-- Summary content will be injected here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-lg mt-4 text-sm">
                        <p class="font-bold">မှတ်ချက်။</p>
                        <p>အကျဉ်းချုပ်ဇယားတွင် အလှူငွေကောက်ခံသူကို ထည့်သွင်းမထားပါ။ အသေးစိတ်ကို အပတ်စဉ် စာမျက်နှာများတွင် ကြည့်ရှုနိုင်ပါသည်။</p>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Footer Section -->
        <footer class="text-center p-4 bg-gray-200 text-gray-600 text-xs rounded-b-xl border-t border-gray-300">
            &copy; ၂၀၂၄ လူငယ်ဝတ်ပြုခြင်း အစီစဉ်။ မင်္ဂလာရှိသော နေ့ဖြစ်ပါစေ။
        </footer>
    </div>

    <!-- JavaScript for Data Management and Rendering -->
    <script>
        // --- AUTHENTICATION CONFIG ---
        const CORRECT_PASSCODE = "kfcyouth2025";
        const STORAGE_KEY = 'schedule_authenticated'; 

        // --- DATA STRUCTURE FOR EASY EXPANSION ---
        const scheduleData = [
            { week: 1, month: 1, roles: {
                chairperson: "Tu Mai", scripture: "Seng Awng", praise: "Htoi Tsin Pan", offering: "May Lat Lunn", fullness: "Ah Dau"
            }},
            { week: 2, month: 1, roles: {
                chairperson: "Dee Bine", scripture: "Benjamin", praise: "Zami Shar", offering: "Mi Mi Shar", fullness: "Shin Ram"
            }},
            { week: 3, month: 1, roles: {
                chairperson: "Hpa Rat Hkawn", scripture: "Zami Shine", praise: "Pan Ra", offering: "Caroline", fullness: "Htoi Tsin Pan"
            }},
            { week: 4, month: 1, roles: {
                chairperson: "May Lat Lunn", scripture: "Ah Dau", praise: "Tu Mai", offering: "Seng Awng", fullness: "Dee Bine"
            }},
            { week: 5, month: 2, roles: {
                chairperson: "Benjamin", scripture: "Shin Ram", praise: "Mi Mi Shar", offering: "Zami Shar", fullness: "Zami Shine"
            }},
            { week: 6, month: 2, roles: {
                chairperson: "Caroline", scripture: "Pan Ra", praise: "Hpa Rat Hkawn", offering: "Dee Bine", fullness: "Tu Mai"
            }},
            { week: 7, month: 2, roles: {
                chairperson: "Mi Mi Shar", scripture: "Htoi Tsin Pan", praise: "Benjamin", offering: "Shin Ram", fullness: "Hpa Rat Hkawn"
            }},
            { week: 8, month: 2, roles: {
                chairperson: "Zami Shar", scripture: "May Lat Lunn", praise: "Ah Dau", offering: "Zami Shine", fullness: "Caroline"
            }},
        ];

        const roleLabels = {
            chairperson: "သဘာပတိ",
            scripture: "အပြန်အလှန်ဖတ်ရှုခြင်း",
            praise: "တစ်ကိုယ်တော်ချီးမွမ်းခြင်း",
            offering: "အလှူငွေကောက်ခံခြင်းနှင့် ဆုတောင်းခြင်း",
            fullness: "ပြည့်စုံခြင်းအတွက် ဆုတောင်းခြင်း",
        };

        // --- AUTHENTICATION FUNCTIONS ---

        /**
         * Attempts to log in by validating the passcode.
         * @param {Event} event - The form submission event.
         */
        function attemptLogin(event) {
            event.preventDefault(); // Prevent form default submission
            
            const passcodeInput = document.getElementById('passcode-input');
            const passcode = passcodeInput.value.trim();
            const errorMessage = document.getElementById('error-message');
            
            if (passcode === CORRECT_PASSCODE) {
                errorMessage.classList.add('hidden');
                // Successful login
                localStorage.setItem(STORAGE_KEY, 'true');
                initAppContent();
            } else {
                errorMessage.textContent = "Passcode is incorrect. Please try again.";
                errorMessage.classList.remove('hidden');
                passcodeInput.value = ''; // Clear input on failure
            }
        }

        /**
         * Shows the main schedule content and hides the login screen.
         */
        function showScheduleContent() {
            const loginScreen = document.getElementById('login-screen');
            const scheduleContent = document.getElementById('schedule-content');
            
            // Hide the login screen, show the schedule
            loginScreen.classList.add('hidden');
            scheduleContent.classList.remove('hidden');
        }
        
        // --- DYNAMIC RENDERING FUNCTIONS ---

        /**
         * Generates the HTML for a single week's detailed view.
         * @param {Object} weekData - The data for the specific week.
         * @returns {string} The HTML string for the week block.
         */
        function renderWeekBlock(weekData) {
            let rolesHtml = '';
            // Use Object.entries to iterate over roles in a defined order
            Object.entries(roleLabels).forEach(([key, label]) => {
                const name = weekData.roles[key];
                const borderClass = key !== 'fullness' ? 'border-b border-dashed border-gray-300' : '';
                rolesHtml += `
                    <div class="flex justify-between p-2 ${borderClass}">
                        <span class="font-bold text-primary">${label}</span> 
                        <span class="text-gray-700">${name}</span>
                    </div>
                `;
            });

            return `
                <!-- Week ${weekData.week} -->
                <div class="p-4 bg-white rounded-xl shadow-lg mb-4 border-t-4 border-primary">
                    <div class="text-center text-lg font-bold bg-primary text-white py-2 rounded-lg mb-3">
                        ${weekData.week} ပတ်
                    </div>
                    <div class="flex flex-col space-y-2">
                        ${rolesHtml}
                    </div>
                </div>
            `;
        }

        /**
         * Renders the schedule blocks for a given month.
         * @param {number} month - The month number (1 or 2).
         * @param {string} containerId - The ID of the HTML container element.
         */
        function renderMonthlySchedule(month, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const weeks = scheduleData.filter(d => d.month === month);
            let monthHtml = '';
            weeks.forEach(weekData => {
                monthHtml += renderWeekBlock(weekData);
            });
            
            // Clear existing content and inject new content
            const monthTitle = container.querySelector('div.text-center');
            container.innerHTML = ''; // Clear previous content
            if (monthTitle) {
                container.appendChild(monthTitle);
            } else {
                 container.innerHTML = `<div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">${month === 1 ? 'ပထမ လ' : 'ဒုတိယ လ'}</div>`;
            }

            container.insertAdjacentHTML('beforeend', monthHtml);
        }

        /**
         * Renders the summary table rows.
         */
        function renderSummaryTable() {
            const tbody = document.getElementById('summary-tbody');
            if (!tbody) return;

            let summaryHtml = '';
            scheduleData.forEach((weekData, index) => {
                // Determine alternating row color
                const rowClass = index % 2 === 0 ? 'bg-gray-50' : '';
                
                // Note: The summary table only includes Chairperson, Scripture, Praise, and Fullness Prayer.
                summaryHtml += `
                    <tr class="${rowClass}">
                        <td>${weekData.week} ပတ်</td>
                        <td>${weekData.roles.chairperson}</td>
                        <td>${weekData.roles.scripture}</td>
                        <td>${weekData.roles.praise}</td>
                        <td>${weekData.roles.fullness}</td>
                    </tr>
                `;
            });

            tbody.innerHTML = summaryHtml;
        }

        // --- TAB SWITCHING LOGIC ---

        /**
         * Switches the view between different schedule sections (Month 1, Month 2, Summary).
         * @param {string} viewId - The ID of the schedule view to show ('month1', 'month2', or 'summary').
         */
        function showSchedule(viewId) {
            // Hide all views
            document.querySelectorAll('.schedule-view').forEach(view => {
                view.classList.add('hidden');
                view.classList.remove('active-view');
            });

            // Show the selected view
            const selectedView = document.getElementById(viewId);
            if (selectedView) {
                selectedView.classList.remove('hidden');
                selectedView.classList.add('active-view');
            }

            // Update active tab button style
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active-tab', 'bg-primary', 'text-white', 'shadow-xl');
                btn.classList.add('bg-white', 'text-primary', 'shadow-md');
                
                // Check if the button's data-target matches the current viewId
                if (btn.getAttribute('data-target') === viewId) {
                    btn.classList.add('active-tab', 'bg-primary', 'text-white', 'shadow-xl');
                    btn.classList.remove('bg-white', 'text-primary', 'shadow-md');
                }
            });
        }
        
        /**
         * Initializes the dynamic content and UI events after successful authentication.
         */
        function initAppContent() {
            // 1. Render all dynamic sections using the structured data
            renderMonthlySchedule(1, 'month1');
            renderMonthlySchedule(2, 'month2');
            renderSummaryTable();
            
            // 2. Setup event listeners for tabs
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(btn => {
                btn.addEventListener('click', () => {
                    const viewId = btn.getAttribute('data-target');
                    showSchedule(viewId);
                });
            });

            // 3. Show content and set initial tab state
            showScheduleContent();
            showSchedule('month1');
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem(STORAGE_KEY) === 'true') {
                // If authenticated, immediately initialize and show the content
                initAppContent();
            } else {
                // Otherwise, the login screen is visible by default (via HTML classes)
                // and the main content is hidden, waiting for login.
            }
        });
    </script>
</body>
</html>


