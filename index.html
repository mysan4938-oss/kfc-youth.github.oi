<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>လူငယ်ဝတ်ပြုခြင်းအစီစဉ် - Youth Worship Program</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Configure Tailwind to use a custom font stack that supports Myanmar script
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Pyidaungsu', 'Myanmar Text', 'Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#1e3a8a', // Dark Indigo
                        'secondary': '#2c5aa0', // Lighter Indigo
                    }
                }
            }
        }
    </script>
    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by the environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db, auth;
        let authReady = false;
        
        // Data stores, populated from Firestore
        let scheduleData = [];
        let roleLabels = {};
        let participants = { girls: [], boys: [] };

        const DATA_PATH = `/artifacts/${appId}/public/data/youth_schedule`;
        const DATA_DOC_ID = 'schedule_config';

        setLogLevel('Debug');

        // --- Firebase Setup and Authentication ---
        async function setupFirebaseAndAuth() {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        authReady = true;
                        fetchScheduleData();
                    } else {
                        // This handles cases where sign-in fails or user logs out
                        authReady = true;
                        fetchScheduleData();
                    }
                });

            } catch (error) {
                console.error("Firebase setup or authentication failed:", error);
                document.getElementById('schedule-content').innerHTML = `<p class="text-red-400 p-8">Error loading application: ${error.message}</p>`;
            }
        }

        // --- Firestore Data Fetching (Realtime) ---
        function fetchScheduleData() {
            if (!authReady || !db) return;

            const docRef = doc(db, DATA_PATH, DATA_DOC_ID);

            // Hide the schedule content and show loading state initially
            document.getElementById('schedule-content').classList.add('hidden');
            document.getElementById('loading-state').classList.remove('hidden');

            onSnapshot(docRef, (docSnap) => {
                if (docSnap.exists()) {
                    const data = docSnap.data();
                    
                    // Update global data stores
                    scheduleData = data.scheduleData || [];
                    roleLabels = data.roleLabels || {};
                    participants = data.participants || { girls: [], boys: [] };

                    // Re-render UI with new data
                    initAppContent(); 
                    
                    // Hide loading and show content
                    document.getElementById('schedule-content').classList.remove('hidden');
                    document.getElementById('loading-state').classList.add('hidden');
                } else {
                    // Document doesn't exist, show error or fallback if needed
                    console.error("Schedule configuration document does not exist in Firestore.");
                    document.getElementById('schedule-content').innerHTML = `<p class="text-red-400 p-8">အစီအစဉ် ဒေတာကို မတွေ့ရှိပါ။ ကျေးဇူးပြု၍ စီမံခန့်ခွဲသူမှ ဒေတာထည့်သွင်းပါ။</p>`;
                }
            }, (error) => {
                console.error("Error fetching real-time data:", error);
                document.getElementById('schedule-content').innerHTML = `<p class="text-red-400 p-8">ဒေတာရယူရာတွင် အမှားဖြစ်ပွား: ${error.message}</p>`;
            });
        }
        
        // --- ACCORDION TOGGLE FUNCTION (UNCHANGED) ---

        /**
         * Toggles the visibility of a content section (Accordion).
         * Uses max-h classes for smooth CSS transition.
         * @param {string} contentId - The ID of the content div to toggle.
         * @param {HTMLElement} button - The button element that was clicked.
         */
        window.toggleSection = function(contentId, button) {
            const content = document.getElementById(contentId);
            // Check if the button exists before trying to query its child
            const icon = button ? button.querySelector('span') : null;

            if (content.classList.contains('max-h-0')) {
                // Expand
                content.classList.remove('max-h-0');
                content.classList.add('max-h-screen'); 
                if (icon) icon.classList.add('rotate-45'); 
                // Add padding back for visual appeal
                content.classList.add('pb-4', 'pt-2'); 
            } else {
                // Collapse
                content.classList.remove('max-h-screen');
                content.classList.add('max-h-0');
                if (icon) icon.classList.remove('rotate-45');
                content.classList.remove('pb-4', 'pt-2');
            }
        }


        // --- DYNAMIC RENDERING FUNCTIONS (UPDATED TO USE GLOBAL DATA) ---
        
        /**
         * Renders the participants list from the global 'participants' object.
         */
        function renderParticipants() {
            const girlList = document.getElementById('girls-list');
            const boyList = document.getElementById('boys-list');
            
            if (!girlList || !boyList) return;

            // Render Girls List
            girlList.innerHTML = participants.girls.map(name => 
                `<li class="border-b border-white/30 py-1 text-sm">${name}</li>`
            ).join('');

            // Render Boys List
            boyList.innerHTML = participants.boys.map(name => 
                `<li class="border-b border-white/30 py-1 text-sm">${name}</li>`
            ).join('');
        }

        /**
         * Generates the HTML for a single week's detailed view.
         * @param {Object} weekData - The data for the specific week.
         * @returns {string} The HTML string for the week block.
         */
        function renderWeekBlock(weekData) {
            let rolesHtml = '';
            // Use roleLabels keys to ensure correct order
            Object.keys(roleLabels).forEach(key => {
                const label = roleLabels[key];
                const name = weekData.roles[key] || '-';
                
                const borderClass = key !== 'fullness' ? 'border-b border-dashed border-white/50' : '';
                rolesHtml += `
                    <!-- Larger padding (p-3) and vertically centered (items-center) for neat alignment -->
                    <div class="flex justify-between p-3 ${borderClass} items-center"> 
                        <span class="font-bold text-secondary">${label}</span> 
                        <span class="text-white">${name}</span>
                    </div>
                `;
            });

            return `
                <!-- Week ${weekData.week} - Larger Card Style -->
                <div class="p-4 rounded-xl shadow-lg mb-0 border-t-4 border-primary morph-glass-card">
                    <!-- Increased size (text-xl) and padding (py-3) for the header -->
                    <div class="text-center text-xl font-bold bg-primary text-white py-3 rounded-lg mb-4">
                        ${weekData.week} ပတ်
                    </div>
                    <div class="flex flex-col space-y-2">
                        ${rolesHtml}
                    </div>
                </div>
            `;
        }

        /**
         * Renders the schedule blocks for a given month, now using a grid layout.
         * @param {number} month - The month number (1 or 2).
         * @param {string} containerId - The ID of the HTML container element.
         */
        function renderMonthlySchedule(month, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const weeks = scheduleData.filter(d => d.month === month);
            let monthHtml = '';
            weeks.forEach(weekData => {
                monthHtml += renderWeekBlock(weekData);
            });
            
            const monthTitleHtml = `<div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">${month === 1 ? 'ပထမ လ' : 'ဒုတိယ လ'}</div>`;

            // Wrap the weekly blocks in a responsive grid container for neat alignment
            const gridWrapper = `<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">${monthHtml}</div>`;
            
            container.innerHTML = monthTitleHtml + gridWrapper;
        }

        /**
         * Renders the summary table rows, dynamically including all roles defined in roleLabels.
         */
        function renderSummaryTable() {
            const tableHead = document.getElementById('summary-thead-row');
            const tbody = document.getElementById('summary-tbody');
            if (!tableHead || !tbody) return;
            
            // 1. Render Header Row dynamically
            let headerHtml = `<th class="bg-primary text-white p-3 rounded-tl-lg">အပတ်</th>`;
            const roleKeys = Object.keys(roleLabels); // Get ordered keys

            roleKeys.forEach((key, index) => {
                const label = roleLabels[key];
                const roundedClass = index === roleKeys.length - 1 ? 'rounded-tr-lg' : '';
                headerHtml += `<th class="bg-primary text-white p-3 ${roundedClass}">${label}</th>`;
            });
            tableHead.innerHTML = headerHtml;

            // 2. Render Body Rows
            let summaryHtml = '';
            scheduleData.forEach((weekData, index) => {
                const rowClass = index % 2 === 0 ? 'bg-white/10' : 'bg-transparent';
                
                let roleCells = '';
                // Dynamically create <td>s based on the order in roleLabels
                roleKeys.forEach(key => {
                    let roleValue = weekData.roles[key] || '-';
                    roleCells += `<td class="p-3">${roleValue}</td>`;
                });

                summaryHtml += `
                    <tr class="${rowClass} text-white hover:bg-white/20 transition duration-200">
                        <td class="p-3">${weekData.week} ပတ်</td>
                        ${roleCells}
                    </tr>
                `;
            });

            tbody.innerHTML = summaryHtml;
        }

        // --- TAB SWITCHING LOGIC (UNCHANGED) ---

        /**
         * Switches the view between different schedule sections (Month 1, Month 2, Summary).
         * @param {string} viewId - The ID of the schedule view to show ('month1', 'month2', or 'summary').
         */
        function showSchedule(viewId) {
            // Hide all views
            document.querySelectorAll('.schedule-view').forEach(view => {
                view.classList.add('hidden');
                view.classList.remove('active-view');
            });

            // Show the selected view
            const selectedView = document.getElementById(viewId);
            if (selectedView) {
                selectedView.classList.remove('hidden');
                selectedView.classList.add('active-view');
            }

            // Update active tab button style
            document.querySelectorAll('.tab-btn').forEach(btn => {
                // Ensure inactive buttons use the neutral transparent background
                btn.classList.remove('active-tab', 'bg-primary', 'shadow-xl');
                btn.classList.add('bg-white/30', 'shadow-md'); 
                
                // Check if the button's data-target matches the current viewId
                if (btn.getAttribute('data-target') === viewId) {
                    // Active button uses the solid primary color
                    btn.classList.add('active-tab', 'bg-primary', 'shadow-xl');
                    btn.classList.remove('bg-white/30', 'shadow-md');
                }
            });
        }
        
        /**
         * Initializes the dynamic content and UI events.
         */
        function initAppContent() {
            // 1. Render Participants
            renderParticipants();

            // 2. Render all dynamic sections using the structured data
            renderMonthlySchedule(1, 'month1');
            renderMonthlySchedule(2, 'month2');
            renderSummaryTable();
            
            // 3. Setup event listeners for tabs (already done on DOMContentLoaded, just setting initial state)
            showSchedule('month1');
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            // Setup tab events once
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(btn => {
                btn.addEventListener('click', () => {
                    const viewId = btn.getAttribute('data-target');
                    showSchedule(viewId);
                });
            });

            setupFirebaseAndAuth();
        });
    </script>
    <!-- Custom style for better font support and scrollbar hiding -->
    <style>
        /* BASE STYLES */
        body {
            /* Keep base body background minimal */
            background-color: #0d001a; 
            font-family: 'Pyidaungsu', 'Myanmar Text', 'Inter', sans-serif;
            position: relative;
        }

        /* Ensure scrollbar hiding remains */
        .mobile-tabs::-webkit-scrollbar { display: none; }
        .mobile-tabs { -ms-overflow-style: none; scrollbar-width: none; }

        /* 1. LOGIN PAGE BACKGROUND (Hidden - Christmas Theme) */
        #login-bg-image {
            /* Now hidden by default, but keeping the Christmas image for historical accuracy */
            background-image: url('https://raw.githubusercontent.com/mysan4938-oss/kfc-youth.github.oi/refs/heads/main/main.webp');
            filter: blur(0px) brightness(0); /* Apply blur and darken */
            
        }
        
        /* 2. MAIN PAGE BACKGROUND (Visible by Default - Christmas Theme) */
        #main-bg-image {
            background-image: url('https://raw.githubusercontent.com/mysan4938-oss/kfc-youth.github.oi/refs/heads/main/main.webp'); 
            filter: blur(0px) brightness(0.7); /* Apply blur and darken */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed; /* This locks the background */
        }
        
        /* Morph Glass Styles */
        .morph-glass {
            /* General Glass Effect */
            background: rgba(255, 255, 255, 0.1); /* Light backdrop */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            /* Red/Green Highlights for Eyecatching Effect */
            box-shadow: 0 4px 20px rgba(0, 255, 0, 0.3), 0 -4px 20px rgba(255, 0, 0, 0.3);
            color: white; /* Ensure text is visible */
        }
        
        .morph-glass-card {
            background: rgba(255, 255, 255, 0.2); /* More transparent internal card */
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            /* Subtle Green/Red inner shadow for depth */
            box-shadow: inset 0 0 10px rgba(0, 255, 0, 0.1), inset 0 0 10px rgba(255, 0, 0, 0.1);
        }
        
        /* General background utility for background divs */
        .bg-cover { background-size: cover; }
        .bg-center { background-position: center; }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8 font-sans">
    
    <!-- BACKGROUND DIVS (Fixed position, low z-index) -->
    <!-- The Main background is now visible by default -->
    <div id="login-bg-image" class="fixed inset-0 bg-cover bg-center transition duration-500 z-0 hidden"></div>
    <div id="main-bg-image" class="fixed inset-0 bg-cover bg-center transition duration-500 z-0"></div>
    <!-- END BACKGROUND DIVS -->

    <!-- LOGIN SCREEN (Hidden by default) -->
    <div id="login-screen" class="relative z-10 flex items-center justify-center min-h-screen p-4 hidden">
        <div class="w-full max-w-sm p-8 rounded-xl text-center border-t-4 border-primary morph-glass-card shadow-xl">
            <h1 class="text-3xl font-extrabold text-white mb-4">
                အစီစဉ်
            </h1>
            <p class="text-gray-200 mb-6">
                အစီစဉ်ကို ကြည့်ရှုရန် Passcode ထည့်သွင်းပါ။
            </p>
            
            <form id="login-form" onsubmit="attemptLogin(event)">
                <input
                    type="password"
                    id="passcode-input"
                    placeholder="Passcode"
                    required
                    class="w-full px-4 py-3 mb-4 text-lg border-2 border-gray-500 rounded-lg focus:outline-none focus:border-secondary transition duration-300 tracking-wider text-gray-800"
                />
                <button
                    type="submit"
                    class="w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-secondary transition duration-300 shadow-lg transform hover:scale-[1.01] active:scale-95"
                >
                    ဝင်မည်
                </button>
            </form>
            
            <p id="error-message" class="text-red-400 mt-4 hidden font-medium">
                <!-- Error message will appear here -->
            </p>
        </div>
    </div>
    <!-- END LOGIN SCREEN -->
    
    <!-- LOADING STATE (New) -->
    <div id="loading-state" class="relative z-10 flex items-center justify-center min-h-screen p-4">
        <div class="text-center text-white">
            <svg class="animate-spin h-8 w-8 text-white mx-auto mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <p>အစီအစဉ် ဒေတာများ ရယူနေပါသည်...</p>
        </div>
    </div>

    <!-- MAIN SCHEDULE CONTENT (Hidden until data loads) -->
    <div id="schedule-content" class="container max-w-4xl mx-auto rounded-xl overflow-hidden morph-glass relative z-10 hidden">
        
        <!-- Header Section -->
        <header class="bg-primary text-white p-6 md:p-8 text-center rounded-t-xl" style="background: linear-gradient(135deg, #1e3a8a 0%, #2c5aa0 100%);">
            <h1 class="text-3xl font-extrabold mb-1 tracking-wide">လူငယ်ဝတ်ပြုခြင်းအစီစဉ် (၈ ပတ်)</h1>
            <div class="text-lg opacity-90">Youth Worship Program Schedule</div>
        </header>
        
        <div class="p-4 md:p-6 lg:p-8 text-white">
            
            <!-- Participants Section (Collapsible - morph-glass-card applied) -->
            <section class="mb-8 rounded-xl shadow-inner overflow-hidden morph-glass-card">
                <button class="w-full p-4 md:p-6 bg-white/20 hover:bg-white/30 transition duration-300 flex justify-between items-center" 
                        onclick="toggleSection('participants-content', this)">
                    <h2 class="text-xl md:text-2xl font-bold text-white">
                        ဆောင်ရွက်မည့်သူများ (မိန်းကလေး / ယောင်္ကျားလေး)
                    </h2>
                    <span class="text-2xl text-white transform transition-transform duration-300">+</span>
                </button>
                
                <div id="participants-content" class="p-4 transition-all duration-500 max-h-0 overflow-hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        
                        <div class="p-4 rounded-lg shadow-md border border-white/40 morph-glass-card">
                            <h3 class="text-lg font-semibold text-white text-center border-b border-dashed border-white/50 pb-2 mb-3">
                                မိန်းကလေး
                            </h3>
                            <ul id="girls-list" class="grid grid-cols-2 gap-x-4 gap-y-2 list-none p-0">
                                <!-- Data populated by JS/Firestore -->
                            </ul>
                        </div>
                        
                        <div class="p-4 rounded-lg shadow-md border border-white/40 morph-glass-card">
                            <h3 class="text-lg font-semibold text-white text-center border-b border-dashed border-white/50 pb-2 mb-3">
                                ယောင်္ကျားလေး
                            </h3>
                            <ul id="boys-list" class="grid grid-cols-2 gap-x-4 gap-y-2 list-none p-0">
                                <!-- Data populated by JS/Firestore -->
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Roles Section (Collapsible - morph-glass-card applied) -->
            <section class="mb-8 rounded-xl shadow-inner overflow-hidden morph-glass-card">
                <button class="w-full p-4 md:p-6 bg-white/20 hover:bg-white/30 transition duration-300 flex justify-between items-center"
                        onclick="toggleSection('roles-content', this)">
                    <h2 class="text-xl md:text-2xl font-bold text-white">
                        တာဝန်များ
                    </h2>
                    <span class="text-2xl text-white transform transition-transform duration-300">+</span>
                </button>
                <div id="roles-content" class="p-4 transition-all duration-500 max-h-0 overflow-hidden">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <!-- Role Item 1: သဘာပတိ -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">သဘာပတိ (Chairperson)</strong>
                            <div class="text-sm text-gray-200">အစီအစဉ်ကို ဦးဆောင်ခြင်း</div>
                        </div>
                        <!-- Role Item for Piano -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">Piano</strong>
                            <div class="text-sm text-gray-200">၀တ်ပြုကိုးကွယ်ရာတွင် တူရိယာတီးခတ်ခြင်း</div>
                        </div>
                        <!-- Role Item 2: အပြန်အလှန်ဖတ် (Scripture Reading) -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">အပြန်အလှန်ဖတ် (Scripture Reading)</strong>
                            <div class="text-sm text-gray-200">သမ္မာကျမ်းစာကို အပြန်အလှန်ဖတ်ရှုခြင်း</div>
                        </div>
                        <!-- Role Item 3: Solo ချီးမွမ်း (Individual Praise) -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">Solo ချီးမွမ်း (Individual Praise)</strong>
                            <div class="text-sm text-gray-200">တစ်ဦးတည်း သို့မဟုတ် အဖွဲ့လိုက် ချီးမွမ်းခြင်း</div>
                        </div>
                        <!-- Role Item for ဒေသနာ (Renamed) -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">ဒေသနာ (Sermon/Program)</strong>
                            <div class="text-sm text-gray-200">၀တ်ပြု၊ ဆုတောင်း၊ သက်သေခံခြင်း သို့မဟုတ် လူငယ်အစည်းအဝေးများ ဦးဆောင်ခြင်း</div>
                        </div>
                        <!-- Role Item 4: အလှူငွေဆပ်ကပ် (Offering Collection) -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">အလှူငွေဆပ်ကပ် (Offering Collection)</strong>
                            <div class="text-sm text-gray-200">အလှူငွေများကောက်ခံပြီး ဆုတောင်းပေးခြင်း</div>
                        </div>
                        <!-- Role Item for Announcements (UPDATED) -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">ကြေညာချိန် (Announcement Time)</strong> 
                            <div class="text-sm text-gray-200">အတွင်းရေးမှူးက အစည်းအဝေးဆိုင်ရာ ကိစ္စရပ်များ ကြော်ညာခြင်း</div>
                        </div>
                        <!-- Role Item 5: ပြည့်စုံဆုတောင်း (Prayer for Fullness) -->
                        <div class="p-3 rounded-lg shadow-sm border-l-4 border-secondary morph-glass-card">
                            <strong class="text-secondary block mb-1">ပြည့်စုံဆုတောင်း (Prayer for Fullness)</strong>
                            <div class="text-sm text-gray-200">အစီအစဉ်အဆုံးတွင် ဆုတောင်းပေးခြင်း</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Schedule Section (morph-glass-card applied) -->
            <section class="mb-8 p-4 rounded-xl shadow-inner morph-glass-card">
                <h2 class="text-xl md:text-2xl font-bold text-white border-b-2 border-white/50 pb-3 mb-4">
                    အစီအစဉ် (၈ ပတ်)
                </h2>
                
                <!-- Mobile Tabs (Background adjusted for glass effect) -->
                <div class="flex overflow-x-auto bg-white/20 p-1.5 rounded-lg mb-4 mobile-tabs">
                    <button class="tab-btn p-3 px-4 min-w-[70px] text-center rounded-md font-semibold text-white transition duration-300 mr-2 bg-white/30 shadow-md" data-target="month1">
                        လ ၁
                    </button>
                    <button class="tab-btn p-3 px-4 min-w-[70px] text-center rounded-md font-semibold text-white transition duration-300 mr-2 bg-white/30 shadow-md" data-target="month2">
                        လ ၂
                    </button>
                    <button class="tab-btn p-3 px-4 min-w-[70px] text-center rounded-md font-semibold text-white transition duration-300 bg-white/30 shadow-md" data-target="summary">
                        အကျဉ်းချုပ်
                    </button>
                </div>
                
                <!-- Month 1 Schedule (Generated by JS) -->
                <div id="month1" class="schedule-view active-view">
                    <div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">ပထမ လ</div>
                    <!-- Content will be injected here -->
                </div>
                
                <!-- Month 2 Schedule (Generated by JS) -->
                <div id="month2" class="schedule-view hidden">
                    <div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">ဒုတိယ လ</div>
                    <!-- Content will be injected here -->
                </div>
                
                <!-- Summary View (Generated by JS) -->
                <div id="summary" class="schedule-view hidden">
                    <div class="text-center bg-gray-700 text-white font-bold py-2 rounded-lg mb-4 text-lg">အကျဉ်းချုပ်</div>
                    
                    <div class="p-4 rounded-xl shadow-lg overflow-x-auto morph-glass-card">
                        <!-- Updated: Summary Table Header will be generated dynamically based on roleLabels order -->
                        <table class="w-full text-left border-collapse min-w-[900px] summary-table" id="summary-table">
                            <thead>
                                <tr id="summary-thead-row">
                                    <!-- Header cells populated by JS -->
                                </tr>
                            </thead>
                            <tbody id="summary-tbody">
                                <!-- Summary content will be injected here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- Note Section (New: Highlighted as an Important Notice) -->
            <section class="mb-8 p-4 rounded-xl shadow-inner morph-glass-card border-l-4 border-yellow-400">
                <h2 class="text-xl md:text-2xl font-bold text-yellow-300 border-b-2 border-yellow-400/50 pb-3 mb-4">
                    မှတ်ချက် (Notice)
                </h2>
                <div class="text-white text-base leading-relaxed">
                    Hpa Rat Hkawn နဲ့ Zami Shine တစ်ခါတစ်ရန် တစ်ပတ်မှာ တာဝန် ၂ ခု ယူရတာမျိုးရှိပါလိပ်မယ်။ အကြောင်းရင်းကတော့ သူတို့ ၂ ဦးပဲ Hymn song အတွက် Piano တီးတတ်တဲ့ကြောင့်ပါ။ အလှည့်ကျ တာဝန်ယူရတာမျိုးလုပ်ထားပေးပါတယ် တစ်ယောက်ထဲ သဘာပတိ ၂ ခါယူတာမျိုး မဖြစ်ရအောင်ပါ။ ခြွင်းချက်အနေနဲ့ Hpa Rat Hkawn နဲ့ Zami Shine တို့က အခွင့်ထူးအနေနဲ့ ၁ ပတ်မှာ တာဝန် ၂ ခု ယူရတာမျိုးရှိပါလိပ်မယ်။
                </div>
            </section>
        </div>
        
        <!-- FOOTER SECTION (Updated to include background link) -->
        <footer class="text-center p-4 bg-white/20 text-white text-xs rounded-b-xl border-t border-white/50">
            &copy; ၂၀၂၅ လူငယ်ဝတ်ပြုခြင်းအစီစဉ်<br>
           <br>
            ကောင်းကြီးနဲ့ပြည့်စုံသော နေ့ဖြစ်ပါစေ <br>
            ❤️ GOD BLESS YOU ❤️
        </footer>
    </div>
</body>
</html>
